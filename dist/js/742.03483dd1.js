"use strict";(self["webpackChunkmagicter_vpn"]=self["webpackChunkmagicter_vpn"]||[]).push([[742],{5742:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});a(4114);var l=a(6768),s=a(9936),o=a(3731),n=a(144),i=a(1387),u=a(2452),r=a(1127),c=a(7833),d=a(9283),f=a(3366);const m={class:"flex flex-col items-center gap-4 w-full text-black-500"},p=(0,l.Lk)("h1",{class:"text-3xl font-bold"},"Verify email!",-1),v=(0,l.Lk)("p",{class:"text-sm"},"Enter the code we have sent you",-1),g={action:"",class:"w-full flex flex-col gap-3 text-sm"},k={class:"grid grid-cols-4 gap-6"};var y={__name:"verifyCodePage",setup(e){const{getStorage:t,setStorage:a,removeStorage:y,setToken:x}=(0,r.A)(),{deviceId:h}=(0,d.U)(),{veriyEmail:w}=(0,c.M)(),{showSuccessMsg:_,showErrorMsg:b}=(0,f.d)(),V=(0,i.rd)(),C=(0,n.KR)(t("email")),E=(0,n.KR)([0,1,2,3]),S=[],W=(0,n.KR)(!1),A=(0,i.lq)(),F=A.query.type;async function K(){const e=parseInt(S.join(""));if("forgot-pwd"===F)V.push("/auth/reset-password?code="+e);else{const t={email:C.value,verify_code:e,device_id:h};if(W.value=!0,t.email&&t.verify_code){const e=await w(t);W.value=!1,200===e.status&&e.data.token?(x(e.data.token),a("user",JSON.stringify(e.data.user)),y("email"),V.push("/account"),_("Hello!, Welcome to your Magicter VPN account")):b(e.message)}}}return(e,t)=>{const a=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",m,[p,C.value?((0,l.uX)(),(0,l.Wv)(u.A,{key:0,email:C.value},null,8,["email"])):(0,l.Q3)("",!0),v,(0,l.Lk)("form",g,[(0,l.Lk)("div",k,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(E.value,((e,t)=>((0,l.uX)(),(0,l.Wv)(o.A,{key:t,ref_for:!0,ref:`inputField${t}`,classes:"px-8",modelValue:S[t],"onUpdate:modelValue":e=>S[t]=e,type:"text",min:1,max:1,placeholder:""},null,8,["modelValue","onUpdate:modelValue"])))),128))]),(0,l.bF)(s.A,{link:"",onClick:K,"is-loading":W.value},{default:(0,l.k6)((()=>[(0,l.eW)("Verify")])),_:1},8,["is-loading"])]),(0,l.bF)(a,{class:"text-purple-500 font-bold text-sm mt-2",to:"/auth/signin"},{default:(0,l.k6)((()=>[(0,l.eW)("Back to sign in")])),_:1})])}}};const x=y;var h=x}}]);
//# sourceMappingURL=742.03483dd1.js.map
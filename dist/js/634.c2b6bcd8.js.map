{"version":3,"file":"js/634.c2b6bcd8.js","mappings":"4fA4BI,MAAM,WAAEA,EAAU,cAAEC,EAAa,WAAEC,EAAU,SAAEC,IAAcC,EAAAA,EAAAA,MACvD,OAAEC,IAAWC,EAAAA,EAAAA,MACb,SAAEC,IAAaC,EAAAA,EAAAA,MACf,eAAEC,EAAc,aAAEC,IAAiBC,EAAAA,EAAAA,KACnCC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,IAAIf,EAAW,UACvBgB,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAYF,EAAAA,EAAAA,KAAI,GAGtB,SAASG,IACDJ,EAAMK,OACNlB,EAAc,QAEtB,CAEAmB,eAAeC,IACX,MAAMC,EAAO,CAAER,MAAOA,EAAMK,MAAOH,SAAUA,EAASG,MAAOI,UAAWhB,GAExE,GADAU,EAAUE,OAAQ,EACdG,EAAKR,OAASQ,EAAKN,SAAU,CACzB,MAAMQ,QAAYnB,EAAOiB,GACzBL,EAAUE,OAAQ,EACC,MAAnBK,EAAIC,YAAsBD,EAAIF,MAC9BnB,EAASqB,EAAIF,KAAKI,OAClBxB,EAAW,OAAQyB,KAAKC,UAAUJ,EAAIF,KAAKA,OAC3CV,EAAOiB,KAAK,YACZpB,EAAe,iDAEfC,EAAac,EAAIM,QAI7B,CACJ,C,6wBC1DA,MAAMC,EAAc,EAEpB,O","sources":["webpack://magicter-vpn/./src/pages/auth/confirmSigninPage.vue","webpack://magicter-vpn/./src/pages/auth/confirmSigninPage.vue?ac22"],"sourcesContent":["<template>\n    <div class=\"flex flex-col items-center gap-4 w-full text-black-500\">\n            <h1 class=\"text-3xl font-bold\">Hi there!</h1>\n            \n            <EmailDisplay v-if=\"email\" :email=\"email\"/>\n    \n            <router-link class=\"text-sm text-purple-500 font-bold\" @click=\"removeEmailFromStorage\" to=\"/auth/signin\">Use another account </router-link>\n            <form action=\"\" class=\"w-full flex flex-col gap-3 text-sm\">\n                <InputDefault v-model=\"password\" :type=\"'password'\" :placeholder=\"'Password'\"/> \n                <ButtonPrimary @click=\"login\" :link=\"''\" :is-loading=\"isLoading\">Sign in</ButtonPrimary> \n            </form>\n            <router-link class=\"text-purple-500 font-bold text-sm -mt-2\" @click=\"removeEmailFromStorage\" to=\"/auth/forget-password\">Forgot your password?</router-link>\n        </div>\n    </template>\n    \n \n<script setup>\n    import { ref } from 'vue'\n    import { useRouter } from 'vue-router';\n    import EmailDisplay from '../../molecules/EmailDisplay.vue';\n    import ButtonPrimary from '../../molecules/ButtonPrimary.vue';\n    import InputDefault from '../../molecules/InputDefault.vue';\n    import { useAuth } from '@/composables/useAuth'; \n    import { useAPI } from '@/composables/useAPI'; \n    import { useConfig } from '@/composables/useConfig.js'\n    import { useToast } from '@/composables/useToast.js'\n\n\n    const { getStorage, removeStorage, setStorage, setToken  } = useAuth();\n    const { signIn } = useAPI()\n    const { deviceId } = useConfig();\n    const { showSuccessMsg, showErrorMsg } = useToast();\n    const router = useRouter();\n    const email = ref(getStorage('email'));\n    const password = ref('');\n    const isLoading = ref(false);\n\n\n    function removeEmailFromStorage() {\n        if (email.value) {\n            removeStorage('email')\n        }\n    }\n\n    async function login() {\n        const data = { email: email.value, password: password.value, device_id: deviceId};\n        isLoading.value = true;\n        if (data.email && data.password) {\n                const res = await signIn(data);\n                isLoading.value = false;\n            if (res.statusCode === 200 && res.data) {\n                setToken(res.data.token);\n                setStorage('user', JSON.stringify(res.data.data));\n                router.push('/account');\n                showSuccessMsg('Hello!, Welcome to your Magicter VPN account');\n            } else {\n                showErrorMsg(res.message);\n            }\n \n        \n    }\n}\n\n\n</script>","import script from \"./confirmSigninPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./confirmSigninPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["getStorage","removeStorage","setStorage","setToken","useAuth","signIn","useAPI","deviceId","useConfig","showSuccessMsg","showErrorMsg","useToast","router","useRouter","email","ref","password","isLoading","removeEmailFromStorage","value","async","login","data","device_id","res","statusCode","token","JSON","stringify","push","message","__exports__"],"sourceRoot":""}
{"version":3,"file":"js/704.725a410d.js","mappings":"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","sources":["webpack://magicter-vpn/./src/composables/useAPI.js","webpack://magicter-vpn/./node_modules/uuid/dist/esm-browser/native.js","webpack://magicter-vpn/./node_modules/uuid/dist/esm-browser/rng.js","webpack://magicter-vpn/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://magicter-vpn/./node_modules/uuid/dist/esm-browser/v4.js","webpack://magicter-vpn/./src/composables/useConfig.js","webpack://magicter-vpn/./src/pages/dashboard/topup/OrderHistory.vue","webpack://magicter-vpn/./src/pages/dashboard/topup/OrderHistory.vue?bcb6"],"sourcesContent":["// import { useApiStore } from '../stores/apiStore';\nimport { useConfig } from './useConfig';\n\nexport const useAPI = () => {\n  //   const apiStore = useApiStore();\n  const config = useConfig();\n\n  const callAPI = async (method, url, data = null) => {\n    try {\n      const response = await fetch(config.API_URL + url, {\n        method,\n        body: data ? JSON.stringify(data) : null,\n        headers: config.headers,\n      });\n      return await response.json();\n    } finally {\n      //   apiStore.isLoading = false;\n    }\n  };\n\n  return {\n    // start of  API methods for authentication\n    signIn: data => callAPI('POST', '/login', data),\n    signUp: data => callAPI('POST', '/createUser', data),\n    veriyEmail: data => callAPI('POST', '/verifyEmail', data),\n    forgotPassword: data => callAPI('POST', '/forgot-password', data),\n    resetPassword: data => callAPI('POST', '/reset-password', data),\n    logout: () => callAPI('POST', '/logout'),\n    // end of authentication\n\n    // top-up order history\n    userPackages: query => callAPI('GET', '/user-type-packages?user_type=' + query),\n    orderHistory: () => callAPI('GET', '/order-history'),\n\n    // faqs\n    getFaqs: () => callAPI('GET', '/faqs'),\n    getdefaultData: query => callAPI('GET', '/defaultData?type=' + query),\n  };\n};\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { ref } from 'vue';\nimport { useAuth } from './useAuth';\nimport { v4 as UUID } from 'uuid';\n\nexport const useConfig = () => {\n  const { token } = useAuth();\n  const API_URL = 'https://nc.mgcores.com/apiv2/api/enrollment';\n  const headers = {\n    'Content-Type': 'application/json; charset=utf-8',\n    Accept: 'application/json',\n    authentication: token?.value || null,\n  };\n\n  // Generate a UUID (Universally Unique Identifier)\n  const generateUUID = () => {\n    const ID = UUID();\n    localStorage.setItem('deviceId', ID);\n    return ID;\n  };\n\n  // Retrieve or generate a unique device ID\n  const deviceId = ref(localStorage.getItem('deviceId') || generateUUID()).value;\n\n  return {\n    deviceId,\n    API_URL,\n    headers,\n  };\n};\n","<template>\n<template v-if=\"!isLoading\">\n  <div class=\"container max-w-screen-xl mx-auto mt-8\">\n                \n  <div class=\"overflow-x-auto\">\n    <table class=\"table-auto min-w-full bg-white-500 shadow-md rounded-lg overflow-hidden\">\n      <thead class=\"bg-gray-100\">\n        <tr>\n          <th class=\"px-4 py-4\">#Order ID</th>\n          <th class=\"px-4 py-4\">Ordered on</th>\n          <th class=\"px-4 py-4\">Amount</th>\n          <th class=\"px-4 py-4\">Type</th>\n          <th class=\"px-4 py-4\">Status</th>\n        </tr>\n      </thead>\n      <tbody class=\"divide-y divide-gray-100\">\n        <template v-for=\"(item, index) in history\" :key=\"index\">\n          <tr class=\"text-center\">\n          <td class=\"px-4 py-4\">{{item.id}}</td>\n          <td class=\"px-4 py-4\">{{useDateFormat(item.createdAt, 'YYYY-MM-DD HH:mm').value }}</td>\n          <td class=\"px-4 py-4\">$ {{item.packages.price}}</td>\n          <td class=\"px-4 py-4\">{{item.packages.months}} months</td>\n          <td class=\"px-4 py-4 flex items-center justify-center\">\n            <div v-if=\"item.status === null\" class=\"flex w-fit items-center justify-center text-xs rounded-2xl text-green-500 font-bold bg-green-100 px-3 py-1\">Successful</div>\n            <div v-else-if=\"item.status === 0\" class=\"flex w-fit items-center justify-center text-xs rounded-2xl text-red-500 font-bold bg-red-100 px-3 py-1\">Failed</div>\n          </td>\n        </tr>\n      </template>\n        \n      </tbody>\n    </table>\n  </div>\n</div>\n</template>\n\n<template v-else>\n      <div class=\"flex min-h-[calc(100vh-300px)] w-full justify-center items-center\">\n        <SpinnerLoader :full-loadder=\"true\" />\n      </div>\n    </template>\n</template>\n<script setup>\nimport { useAPI } from '@/composables/useAPI';\nimport { useRouterStore } from '@/stores/router.state'\nimport { onMounted, computed } from 'vue';\nimport SpinnerLoader from '@/molecules/SpinnerLoader.vue';\nimport { useDateFormat } from '@vueuse/core'\n\n\nconst { orderHistory } = useAPI();\nconst state = useRouterStore();\n\nasync function getUserOrderHistory() {\n\n  state.setState({ \n    orderHistory: { isLoading: true }\n  });\n\n  const orderHistoryData = await orderHistory();\n\n\n  if (orderHistoryData.statusCode === 200) {\n        state.setState({ \n          orderHistory: { isLoading: false, data: orderHistoryData.data },\n        });\n  } else {\n        state.setState({ \n          orderHistory: { isLoading: false },\n        });\n  }\n\n}\n\nconst history = computed(() => {\n    return state.orderHistoryData;\n});\n\nconst isLoading = computed(() => {\n    return state.orderHistory.isLoading;\n});\n\n\n\n\nonMounted(() => {\n    if (!history.value) {\n      getUserOrderHistory();\n    }\n})\n\n</script>","import script from \"./OrderHistory.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrderHistory.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useAPI","config","useConfig","callAPI","async","method","url","data","response","fetch","API_URL","body","JSON","stringify","headers","json","signIn","signUp","veriyEmail","forgotPassword","resetPassword","logout","userPackages","query","orderHistory","getFaqs","getdefaultData","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","i","push","toString","slice","unsafeStringify","arr","offset","v4","options","buf","native","rnds","random","token","useAuth","Accept","authentication","value","generateUUID","ID","UUID","localStorage","setItem","deviceId","ref","getItem","state","useRouterStore","getUserOrderHistory","setState","isLoading","orderHistoryData","statusCode","history","computed","onMounted","__exports__"],"sourceRoot":""}
{"version":3,"file":"js/742.6034dbf8.js","mappings":"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","sources":["webpack://magicter-vpn/./node_modules/@heroicons/vue/24/outline/esm/EyeIcon.js","webpack://magicter-vpn/./node_modules/@heroicons/vue/24/outline/esm/EyeSlashIcon.js","webpack://magicter-vpn/./src/molecules/InputDefault.vue","webpack://magicter-vpn/./src/molecules/InputDefault.vue?6993","webpack://magicter-vpn/./src/pages/auth/verifyCodePage.vue","webpack://magicter-vpn/./src/pages/auth/verifyCodePage.vue?1dd2"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n    }),\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88\"\n    })\n  ]))\n}","<template>\n  <div class=\"relative\">\n    <input \n      ref=\"inputRef\"\n      :class=\"'rounded-full border border-gray-400 px-4 py-2 focus:outline-none focus:ring focus:ring-purple-100 w-full ' + props.classes\"\n      :value=\"modelValue\"\n      :minlength=\"min\" \n      :maxlength=\"max\"\n      @input=\"$emit('update:modelValue', $event.target.value)\" \n      :type=\"seeText ? type : 'text'\"\n      :placeholder=\"placeholder\"\n    />\n    <div class=\"absolute right-4 top-2\" v-if=\"type ==='password'\">\n      <EyeIcon v-if=\"!seeText\" class=\"cursor-pointer h-5 w-5\" @click=\"toggleSeePwd\" />\n      <EyeSlashIcon v-else class=\"cursor-pointer h-5 w-5\" @click=\"toggleSeePwd\" />\n    </div>\n  </div>\n    \n  </template>\n  \n<script setup>\nimport { EyeIcon, EyeSlashIcon } from '@heroicons/vue/24/outline';\nimport { defineProps,ref, watch, computed, onMounted  } from 'vue';\nimport { useRouterStore } from '@/stores/router.state'\n// Define props using defineProps\nconst props = defineProps({\n  modelValue: String,\n  type: String,\n  min: {\n    type: Number,\n    required: false\n  },\n  max: {\n    type: Number,\n    required: false\n  },\n  placeholder: {\n    type: String,\n    required: false\n  },\n  shouldFocus:{\n    type: Number,\n    default: 0\n  },\n  classes: String,\n});\n\nconst inputRef = ref(null);\nconst seeText = ref(true);\n\n\nconst toggleSeePwd = () => {\n  seeText.value = !seeText.value;\n};\n\nfunction focusInput() {\n  if (focusedInput.value === props.shouldFocus) {\n    inputRef.value.focus();\n  }\n}\n\nconst focusedInput = computed(() => {\n  const routeState = useRouterStore()\n  return routeState.codeInputFocus;\n})\n\n\nwatch(() => focusedInput.value, () => {\n  focusInput()\n     \n});\n\n\nonMounted(() => {\n  focusInput()\n})\n\n\n\n\n</script>","import script from \"./InputDefault.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InputDefault.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"flex flex-col items-center gap-4 w-full text-black-500\">\n            <h1 class=\"text-3xl font-bold\">Verify email!</h1>\n            <EmailDisplay v-if=\"email\" :email=\"email\"/>\n            <p class=\"text-sm\">Enter the code we have sent you</p>\n            <form action=\"\" class=\"w-full flex flex-col gap-3 text-sm\">\n                <div\n                  class=\"grid grid-cols-4 gap-6\">\n                <template v-for=\"(c, index) in codes\" :key=\"index\">\n                    <InputDefault :should-focus=\"index\" :classes=\"'px-8'\" v-model=\"codeArray[index]\" :type=\"'text'\" :min=\"1\" :max=\"1\" :placeholder=\"''\"/>\n                </template>\n \n                </div>\n\n                <ButtonPrimary :link=\"''\" @click=\"verifyCodeFunc\" :is-loading=\"isLoading\">Verify</ButtonPrimary> \n            </form>\n            <router-link class=\"text-purple-500 font-bold text-sm mt-2\" to=\"/auth/signin\">Back to sign in</router-link>\n        </div>\n    </template>\n    \n    <script setup>\n    import ButtonPrimary from '@/molecules/ButtonPrimary.vue';\n    import InputDefault from '@/molecules/InputDefault.vue';\n    import { ref, onMounted, watch, computed } from 'vue'\n    import { useRouter } from 'vue-router';\n    import EmailDisplay from '@/molecules/EmailDisplay.vue';\n    import { useAuth } from '@/composables/useAuth'; \n    import { useAPI } from '@/composables/useAPI'; \n    import { useConfig } from '@/composables/useConfig.js'\n    import { useRoute } from 'vue-router';\n    import { useToast } from '@/composables/useToast.js'\n    import { useRouterStore } from '../../stores/router.state'\n\n    const { getStorage, setStorage,removeStorage, setToken } = useAuth();\n    const { deviceId } = useConfig();\n    const { veriyEmail } = useAPI();\n    const { showSuccessMsg, showErrorMsg } = useToast();\n\n    const router = useRouter();\n    const email = ref(getStorage('email'));\n    const codes = ref([0, 1, 2, 3]);\n    const codeArray = ref([]);\n    const isLoading = ref(false);\n    const route = useRoute();\n    const queryType = route.query.type;\n    \n\n    async function verifyCodeFunc() {\n        const verificationCode = parseInt(codeArray.value.join(''));\n\n        if (queryType === 'forgot-pwd') {\n          router.push('/auth/reset-password?code=' + verificationCode);\n        } else {\n          const data = { email: email.value, verify_code: verificationCode, device_id: deviceId} \n          \n          isLoading.value = true;\n            if (data.email && data.verify_code) {\n                const res = await veriyEmail(data);\n                isLoading.value = false;\n                if (res.status === 200 && res.data.token) {\n                    setToken(res.data.token);\n                    setStorage('user', JSON.stringify(res.data.user));\n                    removeStorage('email')\n                    router.push('/account')\n                    showSuccessMsg('Hello!, Welcome to your Magicter VPN account');\n                } else {\n                  showErrorMsg(res.message)\n                }\n            }\n        }\n    } \n\n  const focusedInput = computed(() => {\n  const routeState = useRouterStore()\n  return routeState.codeInputFocus;\n  })\n\n    const triggerFocus = (num) => {\n      const state = useRouterStore();\n      state.triggerFocusedInput(num)\n    }\n\n    watch(codeArray.value, (newCodeArray, oldCodeArray) => {\n      console.log(newCodeArray, oldCodeArray)\n      triggerFocus(focusedInput.value + 1)\n    });\n\n    onMounted(() => {\n      triggerFocus(0)\n    });\n\n    </script>","import script from \"./verifyCodePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./verifyCodePage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["render","_ctx","_cache","_openBlock","_createElementBlock","xmlns","fill","viewBox","stroke","_createElementVNode","d","props","__props","inputRef","ref","seeText","toggleSeePwd","value","focusInput","focusedInput","shouldFocus","focus","computed","routeState","useRouterStore","codeInputFocus","watch","onMounted","__exports__","getStorage","setStorage","removeStorage","setToken","useAuth","deviceId","useConfig","veriyEmail","useAPI","showSuccessMsg","showErrorMsg","useToast","router","useRouter","email","codes","codeArray","isLoading","route","useRoute","queryType","query","type","async","verifyCodeFunc","verificationCode","parseInt","join","push","data","verify_code","device_id","res","status","token","JSON","stringify","user","message","triggerFocus","num","state","triggerFocusedInput","newCodeArray","oldCodeArray","console","log"],"sourceRoot":""}